# 九质云测 - 用户注册系统说明

## 功能概述

本系统实现了完整的用户注册、登录和个人档案管理功能。

## 已实现的功能

### 1. 用户注册 (register.html)
- ✅ 用户名注册（3-20个字符）
- ✅ 邮箱注册（格式验证）
- ✅ 手机号注册（中国大陆手机号验证）
- ✅ 密码设置（至少6个字符）
- ✅ 密码确认验证
- ✅ 性别选择
- ✅ 用户协议确认
- ✅ 实时表单验证
- ✅ 重复注册检测
- ✅ 注册成功动画提示

### 2. 用户登录 (login.html)
- ✅ 用户名/邮箱登录
- ✅ 密码验证
- ✅ 记住我功能
- ✅ 登录状态保持
- ✅ 错误提示

### 3. 个人档案 (profile.html)
- ✅ 用户信息展示
- ✅ 测试记录查看
- ✅ 加入天数统计
- ✅ 测试次数统计
- ✅ 上次测试时间

### 4. 首页集成 (index.html)
- ✅ 登录状态显示
- ✅ 用户头像和下拉菜单
- ✅ 退出登录功能
- ✅ 导航栏动态更新

## 文件说明

### 核心文件
- `register.html` - 用户注册页面
- `login.html` - 用户登录页面
- `profile.html` - 用户个人档案页面
- `auth.js` - 认证系统核心逻辑
- `index.html` - 主页（已更新集成）

### 数据存储
使用浏览器 localStorage 存储用户数据：
- `jiuzhi_users` - 所有用户数据
- `jiuzhi_current_user` - 当前登录用户信息
- `jiuzhi_remember` - 记住登录状态

## 使用方法

### 1. 注册新用户
1. 访问 `register.html` 或点击首页"注册"按钮
2. 填写注册信息：
   - 用户名（3-20个字符，不能重复）
   - 邮箱（有效的邮箱格式，不能重复）
   - 手机号（11位中国大陆手机号，不能重复）
   - 密码（至少6个字符）
   - 确认密码
   - 选择性别
3. 勾选用户协议
4. 点击"立即注册"
5. 注册成功后跳转到登录页面

### 2. 用户登录
1. 访问 `login.html` 或点击首页"登录"按钮
2. 输入用户名或邮箱
3. 输入密码
4. （可选）勾选"记住我"
5. 点击"登录"
6. 登录成功后跳转到首页

### 3. 查看个人档案
1. 登录后，点击导航栏的用户头像
2. 选择"我的档案"
3. 查看个人信息和测试记录

### 4. 退出登录
1. 点击导航栏的用户头像
2. 选择"退出登录"
3. 确认退出

## 表单验证规则

### 用户名
- 长度：3-20个字符
- 唯一性：不能与已注册用户重复

### 邮箱
- 格式：标准邮箱格式（xxx@xxx.xxx）
- 唯一性：不能与已注册邮箱重复

### 手机号
- 格式：11位中国大陆手机号（1开头）
- 唯一性：不能与已注册手机号重复

### 密码
- 长度：至少6个字符
- 确认：两次输入必须一致

## API 接口（供开发使用）

`auth.js` 提供了全局对象 `window.JiuzhiAuth`，包含以下方法：

```javascript
// 获取当前登录用户
JiuzhiAuth.getCurrentUser()

// 检查是否已登录
JiuzhiAuth.isLoggedIn()

// 退出登录
JiuzhiAuth.logout()

// 保存测试结果
JiuzhiAuth.saveTestResult(result)
```

## 安全说明

⚠️ **重要提示**：
- 当前版本使用 localStorage 和简单的 Base64 编码存储数据
- 这仅适用于演示和开发环境
- 生产环境应使用：
  - 后端服务器存储用户数据
  - 安全的密码哈希算法（如 bcrypt）
  - HTTPS 加密传输
  - JWT 或 Session 进行身份验证
  - 防止 XSS 和 CSRF 攻击

## 后续开发建议

### 短期优化
- [ ] 找回密码功能
- [ ] 邮箱验证码验证
- [ ] 手机验证码验证
- [ ] 第三方登录（微信、QQ）
- [ ] 用户资料编辑
- [ ] 头像上传

### 长期优化
- [ ] 后端 API 集成
- [ ] 数据库存储
- [ ] 安全加密
- [ ] 会话管理
- [ ] 权限控制
- [ ] 测试结果详情页
- [ ] 测试结果分享功能

## 测试账号

系统初始无测试账号，请自行注册。

注册示例：
- 用户名：testuser
- 邮箱：test@example.com
- 手机号：13800138000
- 密码：123456

## 技术栈

- HTML5
- CSS3 (Tailwind CSS)
- JavaScript (ES6+)
- localStorage API
- 字体：Noto Serif SC, Noto Sans SC

## 浏览器兼容性

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 联系方式

如有问题或建议，请联系开发团队。

---

**九质云测** - 知己知彼，调和阴阳

